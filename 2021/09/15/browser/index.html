<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>浏览器 | LMW的博客</title><meta name="author" content="codelm,lmwl0113@163.com"><meta name="copyright" content="codelm"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="HTML&#x2F;HTTP&#x2F;浏览器一、几个 BOM 属性对象方法1、location 对象 123456789101112131415161718location.href &#x2F;&#x2F; 返回或设置当前文档的 URLlocation.search &#x2F;&#x2F; 返回 URL 中的查询字符串部分。# 例如 http:&#x2F;&#x2F;www.dreamdu.com&#x2F;dreamdu.php?id&#x3D;5&amp;name&#x3D;dreamdu 返回">
<meta property="og:type" content="article">
<meta property="og:title" content="浏览器">
<meta property="og:url" content="http://example.com/2021/09/15/browser/index.html">
<meta property="og:site_name" content="LMW的博客">
<meta property="og:description" content="HTML&#x2F;HTTP&#x2F;浏览器一、几个 BOM 属性对象方法1、location 对象 123456789101112131415161718location.href &#x2F;&#x2F; 返回或设置当前文档的 URLlocation.search &#x2F;&#x2F; 返回 URL 中的查询字符串部分。# 例如 http:&#x2F;&#x2F;www.dreamdu.com&#x2F;dreamdu.php?id&#x3D;5&amp;name&#x3D;dreamdu 返回">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/img15.jpg">
<meta property="article:published_time" content="2021-09-15T11:38:04.546Z">
<meta property="article:modified_time" content="2021-09-15T11:41:38.064Z">
<meta property="article:author" content="codelm">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/img15.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/2021/09/15/browser/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '浏览器',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-09-15 19:41:38'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/dog.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/img15.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">LMW的博客</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">浏览器</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-15T11:38:04.546Z" title="发表于 2021-09-15 19:38:04">2021-09-15</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-15T11:41:38.064Z" title="更新于 2021-09-15 19:41:38">2021-09-15</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">7.4k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>24分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="浏览器"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="HTML-HTTP-浏览器"><a href="#HTML-HTTP-浏览器" class="headerlink" title="HTML/HTTP/浏览器"></a>HTML/HTTP/浏览器</h3><h4 id="一、几个-BOM-属性对象方法"><a href="#一、几个-BOM-属性对象方法" class="headerlink" title="一、几个 BOM 属性对象方法"></a>一、几个 BOM 属性对象方法</h4><p>1、location 对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">location.href <span class="comment">// 返回或设置当前文档的 URL</span></span><br><span class="line">location.search <span class="comment">// 返回 URL 中的查询字符串部分。</span></span><br><span class="line"># 例如 http:<span class="comment">//www.dreamdu.com/dreamdu.php?id=5&amp;name=dreamdu 返回包括(?)后面的内容?id=5&amp;name=dreamdu</span></span><br><span class="line">location.hash <span class="comment">// 返回 URL # 后面的内容，如果没有#，返回空</span></span><br><span class="line">location.host <span class="comment">// 返回 URL 中的域名部分</span></span><br><span class="line"># 例如 www.baidu.com</span><br><span class="line">location.hostname <span class="comment">// 返回 URL 中的主域名部分</span></span><br><span class="line"># 例如 baidu.com</span><br><span class="line">location.pathname <span class="comment">// 返回 URL 的域名后的部分</span></span><br><span class="line"># 例如 http:<span class="comment">//www.baidu.com/xhtml/ 返回/xhtml/</span></span><br><span class="line">location.port <span class="comment">// 返回 URL 中的端口部分</span></span><br><span class="line"># 例如 http:<span class="comment">//www.dreamdu.com:8080/xhtml/ 返回8080</span></span><br><span class="line">location.protocol <span class="comment">// 返回 URL 中的协议部分</span></span><br><span class="line"># 例如 http:<span class="comment">//www.dreamdu.com:8080/xhtml/ 返回(//)前面的内容 http:</span></span><br><span class="line">location.assign <span class="comment">// 设置当前文档的 URL</span></span><br><span class="line">location.replace() <span class="comment">// 设置当前文档的 URL，并且在 history 对象的地址列表中移除这个 URL</span></span><br><span class="line"># 例如 location.replace(url);</span><br><span class="line">location.reload() <span class="comment">// 重载当前页面</span></span><br></pre></td></tr></table></figure>

<p>2、history 对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">history.go() <span class="comment">// 前进或后退指定的页面数 history.go(num);</span></span><br><span class="line">history.back() <span class="comment">// 后退一页</span></span><br><span class="line">history.forward() <span class="comment">// 前进一页</span></span><br></pre></td></tr></table></figure>

<p>3、Navigator 对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">navigator.userAgent <span class="comment">// 返回用户代理头的字符串表示(就是包括浏览器版本信息等的字符串)</span></span><br><span class="line"></span><br><span class="line">navigator.cookieEnabled <span class="comment">// 返回浏览器是否支持(启用)cookie</span></span><br></pre></td></tr></table></figure>

<h4 id="二、HTML5-drag-api-拖拽"><a href="#二、HTML5-drag-api-拖拽" class="headerlink" title="二、HTML5 drag api (拖拽)"></a>二、HTML5 drag api (拖拽)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">dragstart <span class="comment">// 事件主体是被拖放元素，在开始拖放被拖放元素时触发，。</span></span><br><span class="line">darg <span class="comment">// 事件主体是被拖放元素，在正在拖放被拖放元素时触发。</span></span><br><span class="line">dragenter <span class="comment">// 事件主体是目标元素，在被拖放元素进入某元素时触发。</span></span><br><span class="line">dragover <span class="comment">// 事件主体是目标元素，在被拖放在某元素内移动时触发。</span></span><br><span class="line">dragleave <span class="comment">// 事件主体是目标元素，在被拖放元素移出目标元素是触发。</span></span><br><span class="line">drop <span class="comment">// 事件主体是目标元素，在目标元素完全接受被拖放元素时触发。</span></span><br><span class="line">dragend <span class="comment">// 事件主体是被拖放元素，在整个拖放操作结束时触发</span></span><br></pre></td></tr></table></figure>

<h4 id="三、http2-0"><a href="#三、http2-0" class="headerlink" title="三、http2.0"></a>三、http2.0</h4><p>首先补充一下，http 和 https 的区别，相比于 http,https 是基于 <span style="color:red">ssl</span> 加密的 http 协议</p>
<p>简要概括：http2.0 是基于 1999 年发布的 http1.0 之后的首次更新。</p>
<p>1、提升访问速度（可以对于，请求资源所需时间更少，访问速度更快，相比 http1.0）</p>
<p>2、允许多路复用：多路复用允许同时通过单一的 HTTP/2 连接发送多重请求-响应信息。改善了在 http1.1 中，浏览器客户端在同一时间，针对同一域名下的请求有一定数量限制（连接数量），超过限制会被阻塞。</p>
<p>3、二进制分帧：HTTP 2.0 会将所有传输的信息分割为更小的消息和帧,并对它们采用二进制格式的编码 ，其中 HTTP1.x 的首部信息会被封装到 Headers 帧，而我们的 request body 则封装到 Data 帧里面。</p>
<p>4、首部压缩：HTTP 2.0 在客户端和服务器端使用“首部表”来跟踪和存储之前发送的键-值对，对于相同的数据，不再通过每次请求和响应发送;通信期间几乎不会改变的通用键-值对(用户代理、可接受的媒体类型,等等)只 需发送一次。事实上,如果请求中不包含首部(例如对同一资源的轮询请求),那么 首部开销就是零字节。此时所有首部都自动使用之前请求发送的首部。</p>
<h4 id="四、400-和-401、403-状态码"><a href="#四、400-和-401、403-状态码" class="headerlink" title="四、400 和 401、403 状态码"></a>四、400 和 401、403 状态码</h4><p>1、400</p>
<p><span style="color:red">400</span>状态码：请求无效</p>
<p><span style="color:red">产生原因：</span></p>
<p>前端提交数据的字段名称和字段类型与后台的实体没有保持一致</p>
<p>前端提交到后台的数据应该是 json 字符串类型，但是前端没有将对象 JSON.stringify 转化成字符串</p>
<p><span style="color:red">解决方法：</span></p>
<p>对照字段的名称，保持一致性，将 obj 对象通过 JSON.stringify 实现序列化</p>
<p>2、401</p>
<p><span style="color:red">401</span>状态码：当前请求需要用户验证</p>
<p>3、403</p>
<p><span style="color:red">403</span>状态码：服务器已经得到请求，但是拒绝执行</p>
<h4 id="五、fetch-发送-2-次请求的原因-跨域情况"><a href="#五、fetch-发送-2-次请求的原因-跨域情况" class="headerlink" title="五、fetch 发送 2 次请求的原因(跨域情况)"></a>五、fetch 发送 2 次请求的原因(跨域情况)</h4><p>fetch 之所以会发送 2 次请求，那是因为我们使用了带预检(Preflighted)的跨域请求。该请求会在发送真实的请求之前发送一个类型为 OPTIONS 的预检请求。预检请求会检测服务器是否支持我们的真实请求所需要的跨域资源，唯有资源满足条件才会发送真实的请求。比如我们在请求头部增加了 authorization 项，那么在服务器响应头中需要放入 Access-Control-Allow-Headers，并且其值中必须要包含 authorization，否则 OPTIONS 预检会失败，从而导致不会发送真实的请求</p>
<h4 id="六、Cookie、sessionStorage、localStorage-的区别"><a href="#六、Cookie、sessionStorage、localStorage-的区别" class="headerlink" title="六、Cookie、sessionStorage、localStorage 的区别"></a>六、Cookie、sessionStorage、localStorage 的区别</h4><p>共同点：都是保存在浏览器端，并且是同源的</p>
<p><span style="color:red">Cookie：</span>cookie 数据始终在同源的 http 请求中携带（即使不需要），即 cookie 在浏览器和服务器间来回传递。而 sessionStorage 和 localStorage 不会自动把数据发给服务器，仅在本地保存。cookie 数据还有路径（path）的概念，可以限制 cookie 只属于某个路径下, 存储的大小很小只有 4K 左右。 （key：可以在浏览器和服务器端来回传递，存储容量 小，只有大约 4K 左右）</p>
<p><span style="color:red">sessionStorage：</span>仅在当前浏览器窗口关闭前有效，自然也就不可能持久保持</p>
<p><span style="color:red">localStorage：</span> 始终有效，窗口或浏览器关闭也一直保存，因此用作持久数据；cookie 只在设置的 cookie 过期时间之前一直有效，即使窗口或浏览器关闭。（key：本身就是一个回话过程，关 闭浏览器后消失，session 为一个回话，当页面不同即使是同一页面打开两次，也被视为 同一次回话）</p>
<p><span style="color:red">localStorage：</span>localStorage 在所有同源窗口中都是共享的；cookie 也是在所有同源窗口中都是共享的。（key：同源窗口都会共享，并且不会失效，不管窗口或者浏览器关闭与否都会始终生效）</p>
<p><span style="color:red">Cookie：</span> 的作用：</p>
<p>保存用户登录状态</p>
<p>例如将用户 id 存储于一个 cookie 内，这样当用户下次访问该页面时就不需要重新登录了，现在很多论坛和社区都提供这样的功能。 cookie 还可以设置过期时间，当超过时间期限后，cookie 就会自动消失。因此，系统往往可以提示用户保持登录状态的时间: 常见选项有一个月、三个 月、一年等。 跟踪用户行为。例如一个天气预报网站，能够根据用户选择的地区显示当地的天气情况。 如果每次都需要选择所在地是烦琐的，当利用了 cookie 后就会显得很人性化了，系统能够记住上一次访问的地区，当下次再打开该页面时，它就会自动显示上次用户所在地区 的天气情况。因为一切都是在后台完成，所以这样的页面就像为某个用户所定制的一样，使用起来非常方便定制页面。如果网站提供了换肤或更换布局的功能，那么可以使 用 cookie 来记录用户的选项，例如：背景色、分辨率等。当用户下次访问时，仍然可以保存上一次访问的界面风格。</p>
<h4 id="七、web-worker"><a href="#七、web-worker" class="headerlink" title="七、web worker"></a>七、web worker</h4><p>在 HTML 页面中，如果在执行脚本时，页面的状态是不可响应的，直到脚本执行完成后， 页面才变成可响应。web worker 是运行在后台的 js，独立于其他脚本，不会影响页面你的性能。并且通过 postMessage 将结果回传到主线程。这样在进行复杂操作的时候，就不会阻塞主线程了。</p>
<p>如何创建 web worker：</p>
<p>检测浏览器对于 web worker 的支持性</p>
<p>创建 web worker 文件（js，回传函数等）</p>
<p>创建 web worker 对象</p>
<h4 id="八、HTML-语义化标签的理解"><a href="#八、HTML-语义化标签的理解" class="headerlink" title="八、HTML 语义化标签的理解"></a>八、HTML 语义化标签的理解</h4><p>HTML5 语义化标签是指正确的标签包含了正确的内容，结构良好，便于阅读，比如 nav 表示导航条，类似的还有 article、header、footer 等等标签。</p>
<h4 id="九、iframe-是什么？有什么缺点？"><a href="#九、iframe-是什么？有什么缺点？" class="headerlink" title="九、iframe 是什么？有什么缺点？"></a>九、iframe 是什么？有什么缺点？</h4><p>定义：iframe 元素会创建包含另一个文档的内联框架</p>
<p>提示：可以将提示文字放在<iframe></iframe>之间，来提示某些不支持 iframe 的浏览器</p>
<p>缺点：</p>
<p>1、会阻塞主页面的 onload 事件</p>
<p>2、搜索引擎无法解读这种页面，不利于 SEO</p>
<p>3、iframe 和主页面共享连接池，而浏览器对相同区域有限制所以会影响性能。</p>
<h4 id="十、Doctype-作用-严格模式与混杂模式如何区分？它们有何意义？"><a href="#十、Doctype-作用-严格模式与混杂模式如何区分？它们有何意义？" class="headerlink" title="十、Doctype 作用? 严格模式与混杂模式如何区分？它们有何意义？"></a>十、Doctype 作用? 严格模式与混杂模式如何区分？它们有何意义？</h4><p>Doctype 声明于文档最前面，告诉浏览器以何种方式来渲染页面，这里有两种模式，严格模式和混杂模式。</p>
<p><span style="color:red">严格模式</span>的排版和 JS 运作模式是以该浏览器支持的最高标准运行。</p>
<p><span style="color:red">混杂模式</span>向后兼容，模拟老式浏览器，防止浏览器无法兼容页面。</p>
<h4 id="十一、Cookie-如何防范-XSS-攻击"><a href="#十一、Cookie-如何防范-XSS-攻击" class="headerlink" title="十一、Cookie 如何防范 XSS 攻击"></a>十一、Cookie 如何防范 XSS 攻击</h4><p>XSS（跨站脚本攻击）是指攻击者在返回的 HTML 中嵌入 javascript 脚本，为了减轻这些攻击，需要在 HTTP 头部配上，</p>
<p>set-cookie: httponly-这个属性可以防止 XSS,它会禁止 javascript 脚本来访问 cookie。</p>
<p>secure - 这个属性告诉浏览器仅在请求为 https 的时候发送 cookie。</p>
<p>结果应该是这样的：Set-Cookie=<cookie-value>…..</p>
<h4 id="十二、Cookie-和-session-的区别"><a href="#十二、Cookie-和-session-的区别" class="headerlink" title="十二、Cookie 和 session 的区别"></a>十二、Cookie 和 session 的区别</h4><p><span style="color:red">1、数据存放位置不同：</span></p>
<p>cookie 数据存放在客户的浏览器上，session 数据放在服务器上。</p>
<p><span style="color:red">2、安全程度不同：</span></p>
<p>cookie 不是很安全，别人可以分析存放在本地的 COOKIE 并进行 COOKIE 欺骗,考虑到安全应当使用 session。</p>
<p><span style="color:red">3、性能使用程度不同：</span></p>
<p>session 会在一定时间内保存在服务器上。当访问增多，会比较占用你服务器的性能,考虑到减轻服务器性能方面，应当使用 cookie。</p>
<p><span style="color:red">4、数据存储大小不同：</span></p>
<p>单个 cookie 保存的数据不能超过 4K，很多浏览器都限制一个站点最多保存 20 个 cookie，而 session 则存储与服务端，浏览器对其没有限制。</p>
<p><span style="color:red">5、会话机制不同：</span></p>
<p>session 会话机制：session 会话机制是一种服务器端机制，它使用类似于哈希表（可能还有哈希表）的结构来保存信息。</p>
<p>cookies 会话机制：cookie 是服务器存储在本地计算机上的小块文本，并随每个请求发送到同一服务器。 Web 服务器使用 HTTP 标头将 cookie 发送到客户端。在客户端终端，浏览器解析 cookie 并将其保存为本地文件，该文件自动将来自同一服务器的任何请求绑定到这些 cookie。</p>
<h4 id="十三、click-在-ios-上有-300ms-延迟，原因及如何解决？"><a href="#十三、click-在-ios-上有-300ms-延迟，原因及如何解决？" class="headerlink" title="十三、click 在 ios 上有 300ms 延迟，原因及如何解决？"></a>十三、click 在 ios 上有 300ms 延迟，原因及如何解决？</h4><p>为什么会有延迟？</p>
<p>IOS 中会有双击缩放功能，因此 iOS Safari 就等待 300 毫秒，以判断用户是否再次点击了屏幕。</p>
<p>1、禁用缩放</p>
<meta name="viewport" content="width=device-width, user-scalable=no">

<p>2、利用 FastClick</p>
<p>其原理是：检测到 touchend 事件后，立刻出发模拟 click 事件，并且把浏览器 300 毫秒之后真正出发的事件给阻断掉</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(</span><br><span class="line">  <span class="string">&#x27;load&#x27;</span>,</span><br><span class="line">  <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    FastClick.attach(<span class="built_in">document</span>.body)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="literal">false</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>

<h4 id="十四、addEventListener-参数"><a href="#十四、addEventListener-参数" class="headerlink" title="十四、addEventListener 参数"></a>十四、addEventListener 参数</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">addEventListener(event, <span class="function"><span class="keyword">function</span>, <span class="title">useCapture</span>)</span></span><br><span class="line"><span class="function">// 其中，<span class="title">event</span> 指定事件名；</span></span><br><span class="line"><span class="function">// <span class="function"><span class="keyword">function</span> 指定要事件触发时执行的函数；</span></span></span><br><span class="line"><span class="function"><span class="function">// <span class="title">useCapture</span> 指定事件是否在捕获或冒泡阶段执行。</span></span></span><br></pre></td></tr></table></figure>

<h4 id="十五、http-返回的状态码"><a href="#十五、http-返回的状态码" class="headerlink" title="十五、http 返回的状态码"></a>十五、http 返回的状态码</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">100</span> <span class="string">&#x27;Continue 继续。客户端应继续其请求&#x27;</span></span><br><span class="line"><span class="number">101</span> <span class="string">&#x27;Switching Protocols 切换协议。服务器根据客户端的请求切换协议。只能切换到更高级的协议，例如，切换到 HTTP 的新版本协议&#x27;</span></span><br><span class="line"><span class="number">200</span> <span class="string">&#x27;OK 请求成功。一般用于 GET 与 POST 请求&#x27;</span></span><br><span class="line"><span class="number">201</span> <span class="string">&#x27;Created 已创建。成功请求并创建了新的资源&#x27;</span></span><br><span class="line"><span class="number">202</span> <span class="string">&#x27;Accepted 已接受。已经接受请求，但未处理完成&#x27;</span></span><br><span class="line"><span class="number">203</span> <span class="string">&#x27;Non-Authoritative Information 非授权信息。请求成功。但返回的 meta 信息不在原始的服务器，而是一个副本&#x27;</span></span><br><span class="line"><span class="number">204</span> <span class="string">&#x27;No Content 无内容。服务器成功处理，但未返回内容。在未更新网页的情况下,可确保浏览器继续显示当前文档205 Reset Content 重置内容。服务器处理成功，用户终端（例如：浏览器）应重置文档视图。可通过此返回码清除浏览器的表单域&#x27;</span></span><br><span class="line"><span class="number">206</span> <span class="string">&#x27;Partial Content 部分内容。服务器成功处理了部分 GET 请求&#x27;</span></span><br><span class="line"><span class="number">300</span> <span class="string">&#x27;Multiple Choices 多种选择。请求的资源可包括多个位置，相应可返回一个资源特征与地址的列表用于用户终端（例如：浏览器）选择&#x27;</span></span><br><span class="line"><span class="number">301</span> <span class="string">&#x27;Moved Permanently 永久移动。请求的资源已被永久的移动到新 URI，返回信息会包括新的 URI，浏览器会自动定向到新 URI。今后任何新的请求都应使用新的 URI 代替&#x27;</span></span><br><span class="line"><span class="number">302</span> <span class="string">&#x27;Found 临时移动。与 301 类似。但资源只是临时被移动。客户端应继续使用原有URI&#x27;</span></span><br><span class="line"><span class="number">303</span> <span class="string">&#x27;See Other 查看其它地址。与 301 类似。使用 GET 和 POST 请求查看&#x27;</span></span><br><span class="line"><span class="number">304</span> <span class="string">&#x27;Not Modified 未修改。所请求的资源未修改，服务器返回此状态码时，不会返回任何资源。客户端通常会缓存访问过的资源，通过提供一个头信息指出客户端希望只返回在指定日期之后修改的资源&#x27;</span></span><br><span class="line"><span class="number">305</span> <span class="string">&#x27;Use Proxy 使用代理。所请求的资源必须通过代理访问&#x27;</span></span><br><span class="line"><span class="number">306</span> <span class="string">&#x27;Unused 已经被废弃的 HTTP 状态码&#x27;</span></span><br><span class="line"><span class="number">307</span> <span class="string">&#x27;Temporary Redirect 临时重定向。与 302 类似。使用 GET 请求重定向&#x27;</span></span><br><span class="line"><span class="number">400</span> <span class="string">&#x27;Bad Request 客户端请求的语法错误，服务器无法理解&#x27;</span></span><br><span class="line"><span class="number">401</span> <span class="string">&#x27;Unauthorized 请求要求用户的身份认证&#x27;</span></span><br><span class="line"><span class="number">402</span> <span class="string">&#x27;Payment Required 保留，将来使用&#x27;</span></span><br><span class="line"><span class="number">403</span> <span class="string">&#x27;Forbidden 服务器理解请求客户端的请求，但是拒绝执行此请求&#x27;</span></span><br><span class="line"><span class="number">404</span> <span class="string">&#x27;Not Found 服务器无法根据客户端的请求找到资源（网页）。通过此代码，网站设计人员可设置&quot;您所请求的资源无法找到&quot;的个性页面&#x27;</span></span><br><span class="line"><span class="number">405</span> <span class="string">&#x27;Method Not Allowed 客户端请求中的方法被禁止&#x27;</span></span><br><span class="line"><span class="number">406</span> <span class="string">&#x27;Not Acceptable 服务器无法根据客户端请求的内容特性完成请求&#x27;</span></span><br><span class="line"><span class="number">407</span> <span class="string">&#x27;Proxy Authentication Required 请求要求代理的身份认证，与 401 类似，但请求者应当使用代理进行授权&#x27;</span></span><br><span class="line"><span class="number">408</span> <span class="string">&#x27;Request Time-out 服务器等待客户端发送的请求时间过长，超时&#x27;</span></span><br><span class="line"><span class="number">409</span> <span class="string">&#x27;Conflict 服务器完成客户端的 PUT 请求是可能返回此代码，服务器处理请求时发生了冲突&#x27;</span></span><br><span class="line"><span class="number">410</span> <span class="string">&#x27;Gone 客户端请求的资源已经不存在。410 不同于 404，如果资源以前有现在被永久删除了可使用 410 代码，网站设计人员可通过 301 代码指定资源的新位置&#x27;</span></span><br><span class="line"><span class="number">411</span> <span class="string">&#x27;Length Required 服务器无法处理客户端发送的不带 Content-Length 的请求信息&#x27;</span></span><br><span class="line"><span class="number">412</span> <span class="string">&#x27;Precondition Failed 客户端请求信息的先决条件错误&#x27;</span></span><br><span class="line"><span class="number">413</span> <span class="string">&#x27;Request Entity Too Large 由于请求的实体过大，服务器无法处理，因此拒绝请求。为防止客户端的连续请求，服务器可能会关闭连接。如果只是服务器暂时无法处理，则会包含一个 Retry-After 的响应信息&#x27;</span></span><br><span class="line"><span class="number">414</span> <span class="string">&#x27;Request-URI Too Large 请求的 URI 过长（URI 通常为网址），服务器无法处理&#x27;</span></span><br><span class="line"><span class="number">415</span> <span class="string">&#x27;Unsupported Media Type 服务器无法处理请求附带的媒体格式&#x27;</span></span><br><span class="line"><span class="number">416</span> <span class="string">&#x27;Requested range not satisfiable 客户端请求的范围无效&#x27;</span></span><br><span class="line"><span class="number">417</span> <span class="string">&#x27;Expectation Failed 服务器无法满足 Expect 的请求头信息&#x27;</span></span><br><span class="line"><span class="number">500</span> <span class="string">&#x27;Internal Server Error 服务器内部错误，无法完成请求&#x27;</span></span><br><span class="line"><span class="number">501</span> <span class="string">&#x27;Not Implemented 服务器不支持请求的功能，无法完成请求&#x27;</span></span><br><span class="line"><span class="number">502</span> <span class="string">&#x27;Bad Gateway 作为网关或者代理工作的服务器尝试执行请求时，从远程服务器接收到了一个无效的响应&#x27;</span></span><br><span class="line"><span class="number">503</span> <span class="string">&#x27;Service Unavailable 由于超载或系统维护，服务器暂时的无法处理客户端的请求。延时的长度可包含在服务器的 Retry-After 头信息中&#x27;</span></span><br><span class="line"><span class="number">504</span> <span class="string">&#x27;Gateway Time-out 充当网关或代理的服务器，未及时从远端服务器获取请求&#x27;</span></span><br><span class="line"><span class="number">505</span> <span class="string">&#x27;HTTP Version not supported 服务器不支持请求的 HTTP 协议的版本，无法完成处理&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="十六、http-常用请求头"><a href="#十六、http-常用请求头" class="headerlink" title="十六、http 常用请求头"></a>十六、http 常用请求头</h4><p>1、请求头</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">Accept <span class="comment">//可接受的响应内容类型（Content-Types）。</span></span><br><span class="line">Accept-Charset <span class="comment">//可接受的字符集</span></span><br><span class="line">Accept-Encoding <span class="comment">//可接受的响应内容的编码方式。</span></span><br><span class="line">Accept-Language <span class="comment">//可接受的响应内容语言列表。</span></span><br><span class="line">Accept-Datetime <span class="comment">//可接受的按照时间来表示的响应内容版本</span></span><br><span class="line">Authorization <span class="comment">//用于表示 HTTP 协议中需要认证资源的认证信息</span></span><br><span class="line">Cache-Control #用来指定当前的请求/回复中的，是否使用缓存机制。 常见的取值有 private、no-cache、max-age、must-revalidate 等，默认为 private。</span><br><span class="line">Connection <span class="comment">//客户端（浏览器）想要优先使用的连接类型</span></span><br><span class="line">Cookie <span class="comment">//由之前服务器通过Set-Cookie设置的一个HTTP协议Cookie</span></span><br><span class="line">Content-Length <span class="comment">//以 8 进制表示的请求体的长度</span></span><br><span class="line">Content-MD5 <span class="comment">//请求体的内容的二进制 MD5 散列值（数字签名），以 Base64 编码的结果</span></span><br><span class="line">Content-Type <span class="comment">//请求体的 MIME 类型 （用于 POST 和 PUT 请求中）</span></span><br><span class="line"><span class="built_in">Date</span> <span class="comment">//发送该消息的日期和时间（以 RFC 7231 中定义的&quot;HTTP 日期&quot;格式来发送）</span></span><br><span class="line">Expect <span class="comment">//表示客户端要求服务器做出特定的行为</span></span><br><span class="line">From <span class="comment">//发起此请求的用户的邮件地址</span></span><br><span class="line">Host <span class="comment">//表示服务器的域名以及服务器所监听的端口号。如果所请求的端口是对应的服务的标准端口（80），则端口号可以省略。</span></span><br><span class="line">If-Match <span class="comment">//仅当客户端提供的实体与服务器上对应的实体相匹配时，才进行对应的操作。主要用于像 PUT 这样的方法中，仅当从用户上次更新某个资源后，该资源未被修改的情况下，才更新该资源。</span></span><br><span class="line">If-Modified-Since <span class="comment">//允许在对应的资源未被修改的情况下返回 304 未修改</span></span><br><span class="line">If-None-Match <span class="comment">//允许在对应的内容未被修改的情况下返回 304 未修改（ 304 Not Modified ），参考 超文本传输协议 的实体标记</span></span><br><span class="line">If-Range <span class="comment">//如果该实体未被修改过，则向返回所缺少的那一个或多个部分。否则，返回整个新的实体</span></span><br><span class="line">If-Unmodified-Since <span class="comment">//仅当该实体自某个特定时间以来未被修改的情况下，才发送回应。</span></span><br><span class="line">Max-Forwards <span class="comment">//限制该消息可被代理及网关转发的次数。</span></span><br><span class="line">Origin <span class="comment">//发起一个针对跨域资源共享的请求（该请求要求服务器在响应中加入一个 Access-Control-Allow-Origin 的消息头，表示访问控制所允许的来源）。</span></span><br><span class="line">Pragma <span class="comment">//与具体的实现相关，这些字段可能在请求/回应链中的任何时候产生。</span></span><br><span class="line"><span class="built_in">Proxy</span>-Authorization <span class="comment">//用于向代理进行认证的认证信息。</span></span><br><span class="line">Range <span class="comment">//表示请求某个实体的一部分，字节偏移以 0 开始。</span></span><br><span class="line">Referer <span class="comment">//表示浏览器所访问的前一个页面，可以认为是之前访问页面的链接将浏览器带到了当前页面。Referer 其实是 Referrer 这个单词，但 RFC 制作标准时给拼错了，后来也就将错就错使用 Referer 了。</span></span><br><span class="line">TE <span class="comment">//浏览器预期接受的传输时的编码方式：可使用回应协议头</span></span><br><span class="line">Transfer-Encoding <span class="comment">//中的值（还可以使用&quot;trailers&quot;表示数据传输时的分块方式）用来表示浏览器希望在最后一个大小为 0 的块之后还接收 到一些额外的字段。</span></span><br><span class="line">User-Agent <span class="comment">//浏览器的身份标识字符串</span></span><br><span class="line">Upgrade <span class="comment">//要求服务器升级到一个高版本协议。</span></span><br><span class="line">Via <span class="comment">//告诉服务器，这个请求是由哪些代理发出的。</span></span><br><span class="line">Warning <span class="comment">//一个一般性的警告，表示在实体内容体中可能存在错误。</span></span><br></pre></td></tr></table></figure>

<p>2、常用请求头</p>
<p>可以将 http 首部分为通用首部，请求首部，响应首部，实体首部<br>通用首部表示一些通用信息，比如 <span style="color:red">date</span>表示报文创建时间，<br>请求首部就是请求报文中独有的，如 <span style="color:red">cookie</span>，和缓存相关的如<span style="color:red"> if-Modified-Since</span><br>响应首部就是响应报文中独有的，如 <span style="color:red">set-cookie</span>，和重定向相关的 <span style="color:red">location</span><br>实体首部用来描述实体部分，如 <span style="color:red">allow</span> 用来描述可执行的请求方法， <span style="color:red">content-type</span>描述主题类型，<span style="color:red">content-Encoding </span>描述主体的编码方式。</p>
<h4 id="十七、强，协商缓存"><a href="#十七、强，协商缓存" class="headerlink" title="十七、强，协商缓存"></a>十七、强，协商缓存</h4><p>缓存分为两种：强缓存和协商缓存，根据响应的 header 内容来决定。</p>
<ol>
<li>强缓存：直接从本地副本比对读取，<strong>不去请求服务器</strong>，返回的状态码是 <strong>200</strong>。</li>
<li>协商缓存：<strong>会去服务器比对</strong>，若没改变才直接读取本地缓存，返回的状态码是 <strong>304</strong>。</li>
</ol>
<p>用强缓存相关字段有 expires，cache-control。如果 cache-control 与 expires 同时存在的话，</p>
<p>cache-control 的优先级高于 expires。</p>
<p>协商缓存相关字段有 Last-Modified/If-Modified-Since，Etag/If-None-Match</p>
<p><span style="color:red">两种缓存的使用问题：</span></p>
<p>因为服务器上的资源不是一直固定不变的，大多数情况下它会更新，这个时候如果我们还访问本地缓存，那么对用户来说，那就相当于资源没有更新，用户看到的还是旧的资源；所以我们希望服务器上的资源更新了浏览器就请求新的资源，没有更新就使用本地的缓存，以最大程度的减少因网络请求而产生的资源浪费。</p>
<h4 id="十八、前端优化"><a href="#十八、前端优化" class="headerlink" title="十八、前端优化"></a>十八、前端优化</h4><p>降低请求量：合并资源，减少 HTTP 请求数，minify / gzip 压缩，webP，lazyLoad。</p>
<p>加快请求速度：预解析 DNS，减少域名数，并行加载，CDN 分发。</p>
<p>缓存：HTTP 协议缓存请求，离线缓存 manifest，离线数据缓存 localStorage。</p>
<p>渲染：JS/CSS 优化，加载顺序，服务端渲染，pipeline。</p>
<h4 id="十九、GET-和-POST-的区别"><a href="#十九、GET-和-POST-的区别" class="headerlink" title="十九、GET 和 POST 的区别"></a>十九、GET 和 POST 的区别</h4><p>get 参数通过 url 传递，post 放在 request body 中。</p>
<p>get 请求在 url 中传递的参数是有长度限制的，而 post 没有。</p>
<p>get 比 post 更不安全，因为参数直接暴露在 url 中，所以不能用来传递敏感信息。</p>
<p>get 请求只能进行 url 编码，而 post 支持多种编码方式</p>
<p>get 请求会浏览器主动 cache，而 post 支持多种编码方式。</p>
<p>get 请求参数会被完整保留在浏览历史记录里，而 post 中的参数不会被保留。</p>
<p>GET 和 POST 本质上就是 TCP 链接，并无差别。但是由于 HTTP 的规定和浏览器/服务器</p>
<p>的限制，导致他们在应用过程中体现出一些不同。</p>
<p>GET 产生一个 TCP 数据包；POST 产生两个 TCP 数据包。</p>
<h4 id="二十、HTTP-支持的方法"><a href="#二十、HTTP-支持的方法" class="headerlink" title="二十、HTTP 支持的方法"></a>二十、HTTP 支持的方法</h4><table>
<thead>
<tr>
<th>HTTP 方法</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>GET(get)</td>
<td>客户端向服务器请求命名资源</td>
</tr>
<tr>
<td>PUT(put)</td>
<td>将客户端数据存储到服务器命名资源中(提交)</td>
</tr>
<tr>
<td>DELETE(delete)</td>
<td>从服务器中删除命名资源</td>
</tr>
<tr>
<td>POST(post)</td>
<td>将客户端数据发送到服务器网关应用程序</td>
</tr>
<tr>
<td>HEAD(head)</td>
<td>仅发送命名资源响应中的 HTTP 首部</td>
</tr>
</tbody></table>
<h4 id="二十一、HTML5-新增的元素"><a href="#二十一、HTML5-新增的元素" class="headerlink" title="二十一、HTML5 新增的元素"></a>二十一、HTML5 新增的元素</h4><p>首先 html5 为了更好的实践 web 语义化，增加了 header，footer，nav,aside,section 等语义化标签</p>
<p>在表单方面，为了增强表单，为 input 增加了 color、email、data、range 等类型，</p>
<p>在存储方面，提供了 sessionStorage，localStorage,和离线存储，通过这些存储方式方便数据在客户端的存储和获取</p>
<p>在多媒体方面规定了音频和视频元素 audio 和 vedio</p>
<p>另外还有地理定位，canvas 画布，拖放，多线程编程的 web worker 和 websocket 协议。</p>
<h4 id="二十二、在地址栏里输入一个-URL-到这个页面呈现出来，中间会发生什么？"><a href="#二十二、在地址栏里输入一个-URL-到这个页面呈现出来，中间会发生什么？" class="headerlink" title="二十二、在地址栏里输入一个 URL,到这个页面呈现出来，中间会发生什么？"></a>二十二、在地址栏里输入一个 URL,到这个页面呈现出来，中间会发生什么？</h4><p>简单解释</p>
<ol>
<li>DNS 解析</li>
<li>TCP 连接</li>
<li>发送 HTTP 请求</li>
<li>服务器处理 HTTP 请求并返回报文</li>
<li>浏览器解析渲染页面</li>
<li>连接结束</li>
</ol>
<p>详细解释</p>
<p>输入 url 后，首先需要找到这个 url 域名的服务器 ip,为了寻找这个 ip</p>
<p>浏览器首先会寻找缓存，查看缓存中是否有记录，缓存的查找记录为：浏览器缓存&gt;&gt;系统缓存&gt;&gt;路由器缓存</p>
<p>缓存中没有则查找系统的 hosts 文件中是否有记录，如果没有则查询 DNS 服务器</p>
<p>得到服务器的 ip 地址后，浏览器根据这个 ip 以及相应的端口号，构造一个 http 请求，这个请求报文会包括这次请求的信息，主要是请求方法，请求说明和请求附带的数据，并将这个 http 请求封装在一个 tcp 包中</p>
<p>这个 tcp 包会依次经过传输层，网络层，数据链路层，物理层到达服务器，服务器解析这个请求来作出响应，返回相应的 html 给浏览器</p>
<p>因为 html 是一个树形结构，浏览器根据这个 html 来构建<span style="color:red"> DOM 树</span></p>
<p>在 dom 树的构建过程中如果遇到 JS 脚本和外部 JS 连接，则会停止构建 DOM 树来执行和下载相应的代码，这会造成阻塞，这就是为什么推荐 JS 代码应该放在 html 代码的后面</p>
<p>之后根据外部样式，内部样式，内联样式构建一个 CSS 对象模型树 CSSOM 树，构建完成 后和 DOM 树合并为<span style="color:red"> 渲染树</span>这里主要做的是排除非视觉节点，比如 script，meta 标签和排除 display 为 none 的节点</p>
<p>之后<span style="color:red"> 进行布局</span>，布局主要是确定各个元素的位置和尺寸</p>
<p>之后是<span style="color:red"> 渲染页面</span>，因为 html 文件中会含有图片，视频，音频等资源，在解析 DOM 的过程中，遇到这些都会进行并行下载，浏览器对每个域的并行下载数量有一定的限制，一般是 4-6 个</p>
<p>当然在这些所有的请求中我们还需要关注的就是缓存，缓存一般通过 Cache-Control、Last-Modify、Expires 等首部字段控制。</p>
<p>Cache-Control 和 Expires 的区别 在于 Cache-Control 使用相对时间，Expires 使用的是基于服务器端的绝对时间，因为存在时差问题，一般采用 Cache-Control</p>
<p>在请求这些有设置了缓存的数据时，会先查看是否过期，如果没有过期则直接使用本地缓存，过期则请求并在服务器校验文件是否修改，如果上一次响应设置了 ETag 值会在这次请求的时候作为 If-None-Match 的值交给服务器校验，如果一致，继续校验 Last-Modified，没有设置 ETag 则直接验证 Last-Modified，再决定是否返回 304。</p>
<h4 id="二十三、浏览器在生成页面的时候，会生成那两颗树"><a href="#二十三、浏览器在生成页面的时候，会生成那两颗树" class="headerlink" title="二十三、浏览器在生成页面的时候，会生成那两颗树?"></a>二十三、浏览器在生成页面的时候，会生成那两颗树?</h4><p>构造两棵树，<span style="color:red"> DOM</span> 树和<span style="color:red"> CSSOM</span> 规则树，</p>
<p>当浏览器接收到服务器相应来的 HTML 文档后，会遍历文档节点，生成 DOM 树，</p>
<p>CSSOM 规则树由浏览器解析 CSS 文件生成。</p>
<h4 id="二十四、XSS-和-CRSF-攻击？防御方法？"><a href="#二十四、XSS-和-CRSF-攻击？防御方法？" class="headerlink" title="二十四、XSS 和 CRSF 攻击？防御方法？"></a>二十四、XSS 和 CRSF 攻击？防御方法？</h4><p>XSS, 即为（Cross Site Scripting）, 中文名为跨站脚本, 是发生在目标用户的浏览器层面上的当渲染 DOM 树的过程成发生了不在预期内执行的 JS 代码时，就发生了 XSS 攻击。</p>
<p>大多数 XSS 攻击的主要方式是嵌入一段远程或者第三方域上的 JS 代码。实际上是在目标网站的作用域下执行了这段 JS 代码。</p>
<p>CSRF（Cross Site Request Forgery，跨站请求伪造），字面理解意思就是在别的站点伪造了一个请求。专业术语来说就是在受害者访问一个网站时，其 Cookie 还没有过期的情况下，攻击者伪造一个链接地址发送受害者并欺骗让其点击，从而形成 CSRF 攻击。</p>
<p>XSS 防御的总体思路是：对输入(和 URL 参数)进行过滤，对输出进行编码。也就是对提交的所有内容进行过滤，对 url 中的参数进行过滤，过滤掉会导致脚本执行的相关内容； 然后对动态输出到页面的内容进行 html 编码，使脚本无法在浏览器中执行。虽然对输 入过滤可以被绕过，但是也还是会拦截很大一部分的 XSS 攻击。</p>
<p>防御 CSRF 攻击主要有三种策略：验证 HTTP Referer 字段；在请求地址中添加 token 并验证；在 HTTP 头中自定义属性并验证。</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:lmwl0113@163.com">codelm</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2021/09/15/browser/">http://example.com/2021/09/15/browser/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">LMW的博客</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"></div><div class="post_share"><div class="social-share" data-image="/img/img15.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/09/15/css/"><img class="prev-cover" src="/img/img11.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">CSS</div></div></a></div><div class="next-post pull-right"><a href="/2021/09/15/javaScript/"><img class="next-cover" src="/img/img6.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">javaScript基础知识</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/dog.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">codelm</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#HTML-HTTP-%E6%B5%8F%E8%A7%88%E5%99%A8"><span class="toc-number">1.</span> <span class="toc-text">HTML&#x2F;HTTP&#x2F;浏览器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%87%A0%E4%B8%AA-BOM-%E5%B1%9E%E6%80%A7%E5%AF%B9%E8%B1%A1%E6%96%B9%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">一、几个 BOM 属性对象方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E3%80%81HTML5-drag-api-%E6%8B%96%E6%8B%BD"><span class="toc-number">1.2.</span> <span class="toc-text">二、HTML5 drag api (拖拽)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E3%80%81http2-0"><span class="toc-number">1.3.</span> <span class="toc-text">三、http2.0</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9B%9B%E3%80%81400-%E5%92%8C-401%E3%80%81403-%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">1.4.</span> <span class="toc-text">四、400 和 401、403 状态码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%94%E3%80%81fetch-%E5%8F%91%E9%80%81-2-%E6%AC%A1%E8%AF%B7%E6%B1%82%E7%9A%84%E5%8E%9F%E5%9B%A0-%E8%B7%A8%E5%9F%9F%E6%83%85%E5%86%B5"><span class="toc-number">1.5.</span> <span class="toc-text">五、fetch 发送 2 次请求的原因(跨域情况)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AD%E3%80%81Cookie%E3%80%81sessionStorage%E3%80%81localStorage-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.6.</span> <span class="toc-text">六、Cookie、sessionStorage、localStorage 的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%83%E3%80%81web-worker"><span class="toc-number">1.7.</span> <span class="toc-text">七、web worker</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%AB%E3%80%81HTML-%E8%AF%AD%E4%B9%89%E5%8C%96%E6%A0%87%E7%AD%BE%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">1.8.</span> <span class="toc-text">八、HTML 语义化标签的理解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B9%9D%E3%80%81iframe-%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F%E6%9C%89%E4%BB%80%E4%B9%88%E7%BC%BA%E7%82%B9%EF%BC%9F"><span class="toc-number">1.9.</span> <span class="toc-text">九、iframe 是什么？有什么缺点？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E3%80%81Doctype-%E4%BD%9C%E7%94%A8-%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F%E4%B8%8E%E6%B7%B7%E6%9D%82%E6%A8%A1%E5%BC%8F%E5%A6%82%E4%BD%95%E5%8C%BA%E5%88%86%EF%BC%9F%E5%AE%83%E4%BB%AC%E6%9C%89%E4%BD%95%E6%84%8F%E4%B9%89%EF%BC%9F"><span class="toc-number">1.10.</span> <span class="toc-text">十、Doctype 作用? 严格模式与混杂模式如何区分？它们有何意义？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81Cookie-%E5%A6%82%E4%BD%95%E9%98%B2%E8%8C%83-XSS-%E6%94%BB%E5%87%BB"><span class="toc-number">1.11.</span> <span class="toc-text">十一、Cookie 如何防范 XSS 攻击</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%BA%8C%E3%80%81Cookie-%E5%92%8C-session-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.12.</span> <span class="toc-text">十二、Cookie 和 session 的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%B8%89%E3%80%81click-%E5%9C%A8-ios-%E4%B8%8A%E6%9C%89-300ms-%E5%BB%B6%E8%BF%9F%EF%BC%8C%E5%8E%9F%E5%9B%A0%E5%8F%8A%E5%A6%82%E4%BD%95%E8%A7%A3%E5%86%B3%EF%BC%9F"><span class="toc-number">1.13.</span> <span class="toc-text">十三、click 在 ios 上有 300ms 延迟，原因及如何解决？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E5%9B%9B%E3%80%81addEventListener-%E5%8F%82%E6%95%B0"><span class="toc-number">1.14.</span> <span class="toc-text">十四、addEventListener 参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%BA%94%E3%80%81http-%E8%BF%94%E5%9B%9E%E7%9A%84%E7%8A%B6%E6%80%81%E7%A0%81"><span class="toc-number">1.15.</span> <span class="toc-text">十五、http 返回的状态码</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E5%85%AD%E3%80%81http-%E5%B8%B8%E7%94%A8%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="toc-number">1.16.</span> <span class="toc-text">十六、http 常用请求头</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%B8%83%E3%80%81%E5%BC%BA%EF%BC%8C%E5%8D%8F%E5%95%86%E7%BC%93%E5%AD%98"><span class="toc-number">1.17.</span> <span class="toc-text">十七、强，协商缓存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E5%85%AB%E3%80%81%E5%89%8D%E7%AB%AF%E4%BC%98%E5%8C%96"><span class="toc-number">1.18.</span> <span class="toc-text">十八、前端优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%81%E4%B9%9D%E3%80%81GET-%E5%92%8C-POST-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.19.</span> <span class="toc-text">十九、GET 和 POST 的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E3%80%81HTTP-%E6%94%AF%E6%8C%81%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">1.20.</span> <span class="toc-text">二十、HTTP 支持的方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%B8%80%E3%80%81HTML5-%E6%96%B0%E5%A2%9E%E7%9A%84%E5%85%83%E7%B4%A0"><span class="toc-number">1.21.</span> <span class="toc-text">二十一、HTML5 新增的元素</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%BA%8C%E3%80%81%E5%9C%A8%E5%9C%B0%E5%9D%80%E6%A0%8F%E9%87%8C%E8%BE%93%E5%85%A5%E4%B8%80%E4%B8%AA-URL-%E5%88%B0%E8%BF%99%E4%B8%AA%E9%A1%B5%E9%9D%A2%E5%91%88%E7%8E%B0%E5%87%BA%E6%9D%A5%EF%BC%8C%E4%B8%AD%E9%97%B4%E4%BC%9A%E5%8F%91%E7%94%9F%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-number">1.22.</span> <span class="toc-text">二十二、在地址栏里输入一个 URL,到这个页面呈现出来，中间会发生什么？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E4%B8%89%E3%80%81%E6%B5%8F%E8%A7%88%E5%99%A8%E5%9C%A8%E7%94%9F%E6%88%90%E9%A1%B5%E9%9D%A2%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E4%BC%9A%E7%94%9F%E6%88%90%E9%82%A3%E4%B8%A4%E9%A2%97%E6%A0%91"><span class="toc-number">1.23.</span> <span class="toc-text">二十三、浏览器在生成页面的时候，会生成那两颗树?</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E5%8D%81%E5%9B%9B%E3%80%81XSS-%E5%92%8C-CRSF-%E6%94%BB%E5%87%BB%EF%BC%9F%E9%98%B2%E5%BE%A1%E6%96%B9%E6%B3%95%EF%BC%9F"><span class="toc-number">1.24.</span> <span class="toc-text">二十四、XSS 和 CRSF 攻击？防御方法？</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/09/15/css/" title="CSS"><img src="/img/img11.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CSS"/></a><div class="content"><a class="title" href="/2021/09/15/css/" title="CSS">CSS</a><time datetime="2021-09-15T11:41:09.611Z" title="发表于 2021-09-15 19:41:09">2021-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/15/browser/" title="浏览器"><img src="/img/img15.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="浏览器"/></a><div class="content"><a class="title" href="/2021/09/15/browser/" title="浏览器">浏览器</a><time datetime="2021-09-15T11:38:04.546Z" title="发表于 2021-09-15 19:38:04">2021-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/15/javaScript/" title="javaScript基础知识"><img src="/img/img6.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="javaScript基础知识"/></a><div class="content"><a class="title" href="/2021/09/15/javaScript/" title="javaScript基础知识">javaScript基础知识</a><time datetime="2021-09-15T11:31:58.007Z" title="发表于 2021-09-15 19:31:58">2021-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/15/deploy/" title="项目打包和自动化部署"><img src="/img/img13.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="项目打包和自动化部署"/></a><div class="content"><a class="title" href="/2021/09/15/deploy/" title="项目打包和自动化部署">项目打包和自动化部署</a><time datetime="2021-09-15T11:17:38.738Z" title="发表于 2021-09-15 19:17:38">2021-09-15</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/15/%20createProject/" title="项目搭建规范"><img src="/img/img3.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="项目搭建规范"/></a><div class="content"><a class="title" href="/2021/09/15/%20createProject/" title="项目搭建规范">项目搭建规范</a><time datetime="2021-09-15T11:15:32.892Z" title="发表于 2021-09-15 19:15:32">2021-09-15</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/img15.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By codelm</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/fireworks.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = false;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>